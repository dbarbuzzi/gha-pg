name: "on-push action"

on:
  push:
  workflow_dispatch:

jobs:
  Run-Action:
    runs-on: ubuntu-latest
    defaults:
      run:
        shell: bash

    steps:
      - name: blessed
        id: blessed
        run: echo "BLESSED=1" >> $GITHUB_OUTPUT

      - name: doomed
        id: doomed
        run: |
          echo "DOOMED=1" >> $GITHUB_OUTPUT
          exit 1

      - name: check s1
        if: (success() || failure())
        run: echo "hi"

      - name: check s2
        if: ${{ success() || failure() }}
        run: echo "hi"

      - name: check a1
        if: (success() || failure()) && ${{ steps.doomed.outputs.DOOMED == '1' }}
        run: echo "hi"

      - name: check a2
        if: ${{ success() || failure() && steps.doomed.outputs.DOOMED == '1' }}
        run: echo "hi"

      - name: check a2
        if: ${{ (success() || failure()) && steps.doomed.outputs.DOOMED == '1' }}
        run: echo "hi"

      - name: check a2c
        if: (success() || failure()) && steps.doomed.outputs.DOOMED == '1'
        run: echo "hi"

  Skipper:
    if: github.action == 'bobert'
    runs-on: ubuntu-latest
    defaults:
      run:
        shell: bash

  Follow-Up-A:
    runs-on: ubuntu-latest
    defaults:
      run:
        shell: bash
    needs: [Run-Action]
    if: needs.Run-Action.outputs == '1'

  Follow-Up-B:
    runs-on: ubuntu-latest
    defaults:
      run:
        shell: bash
    needs: Skipper
    if: needs.Skipper.result != 'kwyjibo'
